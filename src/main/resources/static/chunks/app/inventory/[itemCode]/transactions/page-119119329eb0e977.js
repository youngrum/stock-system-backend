(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[568],{321:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var r=a(5155),s=a(9946);let l=(0,s.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),n=(0,s.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function c(e){let{currentPage:t,totalPages:a,onPageChange:s}=e;return a<=1?null:(0,r.jsxs)("div",{className:"flex justify-center items-center mt-6 gap-2",children:[(0,r.jsx)("button",{onClick:()=>s(t-1),disabled:0===t,className:"disabled:text-gray-400",children:(0,r.jsx)(l,{})}),[...Array(a)].map((e,a)=>(0,r.jsx)("button",{onClick:()=>s(a),disabled:a===t,className:"px-3 py-1 rounded ".concat(a===t?"text-gray-400":"hover:bg-gray-300"),children:a+1},a)),(0,r.jsx)("button",{onClick:()=>s(t+1),disabled:t===a-1,className:"disabled:text-gray-400",children:(0,r.jsx)(n,{})})]})}},722:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var r=a(3464),s=a(9323),l=a(1487);let n=r.A.create({baseURL:"/v1/api",headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let t=(0,s.gf)();return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),n.interceptors.response.use(e=>e,e=>{var t,a;let r=null==(t=e.config.url)?void 0:t.endsWith("/login");if((null==(a=e.response)?void 0:a.status)===401&&!r){let{clearAuth:e}=l.C.getState();e(),window.location.href="/login"}return Promise.reject(e)});let c=n},1487:(e,t,a)=>{"use strict";a.d(t,{C:()=>n});var r=a(5453),s=a(6786);let l={getItem:e=>localStorage.getItem(e),setItem:(e,t)=>{localStorage.setItem(e,t)},removeItem:e=>{localStorage.removeItem(e)}},n=(0,r.v)((0,s.Zr)(e=>({authName:null,token:null,_hasHydrated:!1,setAuthName:t=>e({authName:t}),setToken:t=>e({token:t}),clearAuth:()=>e({authName:null,token:null}),setHasHydrated:t=>e({_hasHydrated:t})}),{name:"auth-storage",storage:(0,s.KU)(()=>l),partialize:e=>({authName:e.authName,token:e.token}),onRehydrateStorage:e=>{null==e||e.setHasHydrated(!0)}}))},2108:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},7039:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("package-plus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]])},7672:(e,t,a)=>{Promise.resolve().then(a.bind(a,8074))},8074:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(5155),s=a(2115),l=a(7039),n=a(2108),c=a(9799),i=a(321),o=a(722);function d(e){let{params:t}=e,[a,d]=(0,s.useState)(""),[h,u]=(0,s.useState)([]),[m,y]=(0,s.useState)(null),[p,x]=(0,s.useState)(0),[g,N]=(0,s.useState)(0);return(0,s.useEffect)(()=>{!async function(){d((await t).itemCode)}()},[t]),(0,s.useEffect)(()=>{a&&(async()=>{try{let e=await o.A.get("/inventory/".concat(a,"/history"),{params:{page:g,size:10}});u(e.data.data.content),x(e.data.data.totalPages);let t=await o.A.get("/inventory/".concat(a));y(t.data.data)}catch(e){console.error("Error fetching inventory data:",e)}})()},[a,g]),(0,r.jsxs)("div",{className:"bg-white border-gray-400 p-3 shadow p-5",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"個別在庫処理履歴"}),(0,r.jsx)("h3",{className:"text-md text-gray-600 mb-2",children:a}),m&&(0,r.jsxs)("h4",{className:"font-bold mb-6",children:[m.itemName," ",(0,r.jsx)("br",{}),m.category," ／ ",m.modelNumber]}),(0,r.jsxs)("table",{className:"w-full text-sm text-center border-collapse",children:[(0,r.jsx)("thead",{style:{color:"#101540"},children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"py-2 px-3",children:"種別"}),(0,r.jsx)("th",{className:"py-2 px-3",children:"実行日"}),(0,r.jsx)("th",{className:"py-2 px-3",children:"実行者"}),(0,r.jsx)("th",{className:"py-2 px-3",children:"数量"}),(0,r.jsx)("th",{className:"py-2 px-3",children:"備考"})]})}),(0,r.jsx)("tbody",{className:"text-gray-700",children:h.map(e=>{var t;return(0,r.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"py-2 px-3",children:"MANUAL_RECEIVE"===e.transactionType||"PURCHASE_RECEIVE"===e.transactionType?(0,r.jsxs)("div",{className:"text-green-800 flex justify-center items-center",children:[(0,r.jsx)(l.A,{className:"w-5 h-5 mr-1"}),"入庫"]}):"ORDER_REGIST"===e.transactionType?(0,r.jsxs)("div",{className:"text-blue-800 flex justify-center items-center",children:[(0,r.jsx)(n.A,{className:"w-5 h-5 mr-1"}),"発注登録"]}):"ITEM_REGIST"===e.transactionType?(0,r.jsxs)("div",{className:"text-blue-800 flex justify-center items-center",children:[(0,r.jsx)(n.A,{className:"w-5 h-5 mr-1"}),"在庫登録"]}):(0,r.jsxs)("div",{className:"text-red-800 flex justify-center items-center",children:[(0,r.jsx)(c.A,{className:"w-5 h-5 mr-1"}),"出庫"]})}),(0,r.jsx)("td",{className:"py-2 px-3",children:null==(t=e.transactionTime)?void 0:t.slice(0,10)}),(0,r.jsx)("td",{className:"py-2 px-3",children:e.operator}),(0,r.jsx)("td",{className:"py-2 px-3",children:"MANUAL_DISPATCH"===e.transactionType?"-".concat(e.quantity):"ORDER_REGIST"===e.transactionType?"(".concat(e.quantity,")"):"ITEM_REGIST"===e.transactionType?"".concat(e.quantity):"+".concat(e.quantity)}),(0,r.jsx)("td",{className:"py-2 px-3",children:e.remarks||"-"})]},e.transactionId)})})]}),(0,r.jsx)(i.A,{currentPage:g,totalPages:p,onPageChange:N})]})}},9323:(e,t,a)=>{"use strict";a.d(t,{EN:()=>l,gf:()=>c,ri:()=>n});var r=a(1487),s=a(722);let l=async(e,t)=>{let a=await s.A.post("/login",{username:e,password:t});console.log("axios response:",a);let l=a.data.data.token,n=a.data.data.username;if(!l)throw Error("トークンが取得できませんでした");r.C.getState().setToken(l),r.C.getState().setAuthName(n)},n=()=>{r.C.getState().clearAuth()},c=()=>r.C.getState().token||localStorage.getItem("authToken")},9799:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},9946:(e,t,a)=>{"use strict";a.d(t,{A:()=>h});var r=a(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),n=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},c=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()},i=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:d="",children:h,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:t,...o,width:s,height:s,stroke:a,strokeWidth:n?24*Number(l)/Number(s):l,className:c("lucide",d),...!h&&!i(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(h)?h:[h]])}),h=(e,t)=>{let a=(0,r.forwardRef)((a,l)=>{let{className:i,...o}=a;return(0,r.createElement)(d,{ref:l,iconNode:t,className:c("lucide-".concat(s(n(e))),"lucide-".concat(e),i),...o})});return a.displayName=n(e),a}}},e=>{var t=t=>e(e.s=t);e.O(0,[655,441,684,358],()=>t(7672)),_N_E=e.O()}]);