(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},722:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(3464),s=a(9323),n=a(1487);let l=r.A.create({baseURL:"http://localhost:8080/v1/api",headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>{let t=(0,s.gf)();return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),l.interceptors.response.use(e=>e,e=>{var t,a;let r=null==(t=e.config.url)?void 0:t.endsWith("/login");if((null==(a=e.response)?void 0:a.status)===401&&!r){let{clearAuth:e}=n.C.getState();e(),window.location.href="/login"}return Promise.reject(e)});let o=l},1487:(e,t,a)=>{"use strict";a.d(t,{C:()=>n});var r=a(5453),s=a(6786);let n=(0,r.v)((0,s.Zr)(e=>({authName:null,token:null,setAuthName:t=>e({authName:t}),setToken:t=>e({token:t}),clearAuth:()=>e({authName:null,token:null})}),{name:"auth-storage",partialize:e=>({authName:e.authName,token:e.token})}))},2718:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var r=a(5155),s=a(2115);a(347);var n=a(9323),l=a(1487),o=a(5695);let i=()=>{let e=(0,l.C)(e=>e.token),t=(0,l.C)(e=>e.authName);return!!e&&!!t};var c=a(4416),h=a(9946);let d=(0,h.A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]);function u(e){let{onToggleSidebar:t,isSidebarOpen:a}=e,s=(0,l.C)(e=>e.authName),h=(0,o.useRouter)(),u=i();return(0,r.jsxs)("header",{className:"fixed top-0 left-0 w-full bg-white shadow px-6 py-4 flex items-center justify-between z-100",children:[(0,r.jsx)("button",{className:"text-2xl text-gray-700 hover:text-black transition-transform duration-300 ".concat(a?"rotate-180":"rotate-0"),onClick:t,children:a?(0,r.jsx)(c.A,{className:"text-[#0d113d]"}):(0,r.jsx)(d,{className:"text-[#0d113d]"})}),(0,r.jsxs)("div",{className:"text-sm px-3 py-1",children:[u&&(0,r.jsx)("button",{onClick:()=>{window.confirm("ログアウトしますか？")&&((0,n.ri)(),h.push("/login"))},className:"text-white bg-gradient-to-b from-gray-600 to-gray-400 px-3 py-1 rounded hover:opacity-80 mr-5",children:"Logout"}),(0,r.jsx)("span",{className:"text-[#0d113d] font-semibold",children:s})]})]})}let p=(0,h.A)("blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]),m=(0,h.A)("list-ordered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);var x=a(7924);let k=(0,h.A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);function f(e){let{isSidebarOpen:t}=e,a=(0,o.useRouter)(),s=[{label:"在庫登録(新規用)",path:"/inventory/new",icon:(0,r.jsx)(p,{size:18})},{label:"在庫一覧/検索",path:"/inventory",icon:(0,r.jsx)(m,{size:18})},{label:"入出庫処理履歴/検索",path:"/inventory/transactions",icon:(0,r.jsx)(x.A,{size:18})},{label:"発注登録",path:"/order",icon:(0,r.jsx)(k,{size:18})},{label:"発注履歴一覧/検索",path:"/order/order-list",icon:(0,r.jsx)(m,{size:18})}];return(0,r.jsx)("aside",{className:"\n        fixed left-0 pt-20 z-30\n        w-60 min-h-screen\n        bg-[linear-gradient(to_bottom,_#3D00B8,_#3070C3)]\n        text-white p-4\n        transform transition-transform duration-300 ease-in-out\n        ".concat(t?"translate-x-0":"-translate-x-full","\n      "),children:(0,r.jsx)("div",{className:"flex flex-col gap-2",children:s.map(e=>{let t="発注登録"===e.label||"発注履歴一覧/検索"===e.label;return(0,r.jsxs)("button",{onClick:()=>{a.push(e.path)},className:"\n                text-white my-2 flex items-center\n                ".concat(t?"opacity-50 line-through":"hover:opacity-80","\n              "),children:[(0,r.jsx)("span",{className:"pr-2",children:e.icon}),e.label]},e.path)})})})}function y(e){let{children:t}=e,[a,n]=(0,s.useState)(!1);return(0,r.jsx)("html",{lang:"ja",children:(0,r.jsxs)("body",{className:"bg-gray-100 text-gray-900",children:[(0,r.jsx)(u,{onToggleSidebar:()=>{n(e=>!e)},isSidebarOpen:a}),a&&(0,r.jsx)("div",{className:"fixed inset-0 bg-[#0d113d] opacity-40 z-20",onClick:()=>n(!1)}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(f,{isSidebarOpen:a,onClose:()=>n(!1)}),(0,r.jsx)("main",{className:"flex-1 p-5 mt-20",children:t})]})]})})}},4416:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5695:(e,t,a)=>{"use strict";var r=a(8999);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},7254:(e,t,a)=>{Promise.resolve().then(a.bind(a,2718))},7924:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},9323:(e,t,a)=>{"use strict";a.d(t,{EN:()=>n,gf:()=>o,ri:()=>l});var r=a(1487),s=a(722);let n=async(e,t)=>{let a=await s.A.post("/login",{username:e,password:t});console.log("axios response:",a);let n=a.data.data.token,l=a.data.data.username;if(!n)throw Error("トークンが取得できませんでした");r.C.getState().setToken(n),r.C.getState().setAuthName(l)},l=()=>{r.C.getState().clearAuth()},o=()=>r.C.getState().token||localStorage.getItem("authToken")},9946:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var r=a(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),l=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()},i=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let h=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:h="",children:d,iconNode:u,...p}=e;return(0,r.createElement)("svg",{ref:t,...c,width:s,height:s,stroke:a,strokeWidth:l?24*Number(n)/Number(s):n,className:o("lucide",h),...!d&&!i(p)&&{"aria-hidden":"true"},...p},[...u.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let a=(0,r.forwardRef)((a,n)=>{let{className:i,...c}=a;return(0,r.createElement)(h,{ref:n,iconNode:t,className:o("lucide-".concat(s(l(e))),"lucide-".concat(e),i),...c})});return a.displayName=l(e),a}}},e=>{var t=t=>e(e.s=t);e.O(0,[690,655,441,684,358],()=>t(7254)),_N_E=e.O()}]);